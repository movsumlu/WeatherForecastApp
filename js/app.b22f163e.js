(function(t){function e(e){for(var a,i,o=e[0],s=e[1],u=e[2],d=0,b=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&b.push(n[i][0]),n[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);l&&l(e);while(b.length)b.shift()();return c.push.apply(c,u||[]),r()}function r(){for(var t,e=0;e<c.length;e++){for(var r=c[e],a=!0,o=1;o<r.length;o++){var s=r[o];0!==n[s]&&(a=!1)}a&&(c.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},n={app:0},c=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/WeatherForecastApp/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=s;c.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("cd49")},"157c":function(t,e,r){},3754:function(t,e,r){},"4f18":function(t,e,r){"use strict";r("3754")},"761b":function(t,e,r){},9613:function(t,e,r){},a1c3:function(t,e,r){},a609:function(t,e,r){"use strict";r("9613")},ac42:function(t,e,r){"use strict";r("761b")},cd49:function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("7a23"),n={class:"weather-app"};function c(t,e){var r=Object(a["w"])("router-view");return Object(a["p"])(),Object(a["d"])("section",n,[Object(a["g"])(r)])}r("4f18");const i={};i.render=c;var o=i,s=r("1da1"),u=(r("96cf"),r("4e82"),r("bc3a")),l=r.n(u),d=r("5502"),b=Object(d["a"])({state:{smallCardsList:[],bigCardsList:[],fullListOfCities:[],filters:[],showLoader:!0,sortDirect:"alpha"},getters:{smallCardsList:function(t){return t.smallCardsList},bigCardsList:function(t){return t.bigCardsList},fullListOfCities:function(t){return t.fullListOfCities},filters:function(t){return t.filters},showLoader:function(t){return t.showLoader},sortDirect:function(t){return t.sortDirect}},mutations:{SET_SMALL_CARDS_LIST:function(t,e){t.smallCardsList=e},SET_FULL_LIST_OF_CITIES:function(t,e){t.fullListOfCities=e},SET_BIG_CARDS_LIST:function(t,e){t.bigCardsList=e},SET_FILTERS:function(t,e){t.filters=e},SET_LOADER:function(t,e){t.showLoader=e},SET_SORT_DIRECTION:function(t,e){t.sortDirect=e}},actions:{fetchCities:function(t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,l.a.get("https://geo-weather-json.herokuapp.com/db").then((function(t){var e=t.data.cities.sort((function(t,e){return t.city.localeCompare(e.city)}));r("SET_SMALL_CARDS_LIST",e),r("SET_FULL_LIST_OF_CITIES",e),r("SET_LOADER",!1)}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))()}}}),p=r("6c02"),f={class:"weather-app__cards"};function O(t,e,r,n,c,i){var o=Object(a["w"])("Header"),s=Object(a["w"])("Cards"),u=Object(a["w"])("Map");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["g"])("div",f,[Object(a["g"])(o),Object(a["g"])(s)]),Object(a["g"])(u)],64)}var j=Object(a["E"])("data-v-9369779e");Object(a["s"])("data-v-9369779e");var v={class:"header"},g={class:"header__group"},h=Object(a["g"])("input",{id:"alphabet-sort",type:"radio",name:"alphabet-sort",value:"alphabet-sort",checked:""},null,-1),m=Object(a["g"])("label",{for:"alphabet-sort"},[Object(a["g"])("span",{class:"icon icon--arrow-down"})],-1),_=Object(a["g"])("input",{id:"alphabet-sort-reverse",type:"radio",name:"alphabet-sort",value:"alphabet-sort-reverse"},null,-1),y=Object(a["g"])("label",{for:"alphabet-sort-reverse"},[Object(a["g"])("span",{class:"icon icon--arrow-up"})],-1),C={class:"header__group"},S={class:"header__wrapper--search"},L={class:"header__group"};Object(a["q"])();var w=j((function(t,e,r,n,c,i){return Object(a["p"])(),Object(a["d"])("section",v,[Object(a["g"])("div",g,[Object(a["g"])("div",{class:"header__wrapper--radio",onClick:e[1]||(e[1]=function(){return t.sortAlpha&&t.sortAlpha.apply(t,arguments)})},[h,m]),Object(a["g"])("div",{class:"header__wrapper--radio",onClick:e[2]||(e[2]=function(){return t.sortAlphaRev&&t.sortAlphaRev.apply(t,arguments)})},[_,y])]),Object(a["g"])("div",C,[Object(a["g"])("div",S,[Object(a["C"])(Object(a["g"])("input",{type:"search","onUpdate:modelValue":e[3]||(e[3]=function(e){return t.seachCityName=e}),onFocus:e[4]||(e[4]=function(e){return t.inputFocused=!0}),onBlur:e[5]||(e[5]=function(e){return t.inputFocused=!1}),placeholder:t.placeholderText},null,40,["placeholder"]),[[a["A"],t.seachCityName]])])]),Object(a["g"])("div",L,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(t.weatherConditions,(function(e){return Object(a["p"])(),Object(a["d"])("div",{key:e.value,class:"header__wrapper--checkbox"},[Object(a["g"])("input",{type:"checkbox",id:e.value},null,8,["id"]),Object(a["g"])("label",{for:e.value,onClick:function(r){return t.updateFilters(e.value)}},[Object(a["g"])("span",{class:["icon","icon--".concat(e.value)]},null,2)],8,["for","onClick"])])})),128))])])})),T=r("2909"),D=(r("4de4"),r("caad"),r("2532"),r("99af"),{data:function(){return{weatherConditions:[{value:"rainy"},{value:"sunny"},{value:"cloudy"},{value:"snowy"},{value:"stormy"},{value:"blizzard"},{value:"metorite"}]}},methods:{alphaCitySort:function(t){return t.sort((function(t,e){return t.city.localeCompare(e.city)}))},alphaRevCitySort:function(t){return t.sort((function(t,e){return e.city.localeCompare(t.city)}))}}}),E=Object(a["h"])({name:"Header",mixins:[D],setup:function(){var t=Object(d["b"])(),e=D.methods,r=e.alphaCitySort,n=e.alphaRevCitySort,c=Object(a["u"])(!1),i=Object(a["u"])(""),o=Object(a["b"])((function(){return t.getters.smallCardsList})),s=Object(a["b"])((function(){return t.getters.fullListOfCities})),u=Object(a["b"])((function(){return t.getters.filters})),l=Object(a["b"])((function(){return c.value?"":"Название города"}));Object(a["B"])(i,(function(){t.commit("SET_SMALL_CARDS_LIST",s.value.filter((function(t){return t.city.toLowerCase().includes(i.value.toLowerCase())})))}),{immediate:!0});var b=function(e){var r=u.value.includes(e)?u.value.filter((function(t){return t!==e})):[].concat(Object(T["a"])(u.value),[e]);t.commit("SET_FILTERS",r)},p=function(){t.commit("SET_SORT_DIRECTION","alpha"),t.commit("SET_SMALL_CARDS_LIST",r(o.value))},f=function(){t.commit("SET_SORT_DIRECTION","alphaRev"),t.commit("SET_SMALL_CARDS_LIST",n(o.value))};return{inputFocused:c,seachCityName:i,placeholderText:l,updateFilters:b,sortAlpha:p,sortAlphaRev:f}}});r("a609");E.render=w,E.__scopeId="data-v-9369779e";var I=E,R=Object(a["E"])("data-v-6f2a8ef8");Object(a["s"])("data-v-6f2a8ef8");var k={class:"cards"},A={class:"small-card__city"},x={class:"small-card__temperature"},M=Object(a["g"])("span",{class:"icon icon--strips-small"},null,-1),F={key:0,class:"small-card small-card--empty"},B={key:1,class:"small-card--empty-text"},P={class:"big-card__header"},N=Object(a["g"])("span",{class:"icon icon--strips-big"},null,-1),H={class:"big-card__city"},U={class:"big-card__content"},q={class:"big-card__content-wrapper"},J={class:"big-card__wind"},z=Object(a["g"])("span",{class:"icon icon--wind"},null,-1),G={class:"big-card__wind-info"},W={class:"big-card__temperature"},V={key:1,class:"big-card big-card--empty"};Object(a["q"])();var $=R((function(t,e,r,n,c,i){var o=Object(a["w"])("Spinner");return Object(a["p"])(),Object(a["d"])("section",k,[!t.showLoader&&t.smallCardsList.length?(Object(a["p"])(),Object(a["d"])("div",{key:0,class:"small-card__container",onDrop:e[1]||(e[1]=function(e){return t.onDrop(e,"toSmallCards")}),onDragenter:e[2]||(e[2]=Object(a["D"])((function(){}),["prevent"])),onDragover:e[3]||(e[3]=Object(a["D"])((function(){}),["prevent"]))},[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(t.smallCardsList,(function(e){return Object(a["p"])(),Object(a["d"])("div",{key:e.city},[Object(a["g"])("div",{class:"small-card",onDragstart:function(r){return t.onDragStart(r,e,"toBigCards")},draggable:"true"},[Object(a["g"])("span",A,Object(a["y"])(e.city),1),Object(a["g"])("span",x,Object(a["y"])(t.valueOfTemperature(e.temperature)),1),M],40,["onDragstart"])])})),128)),t.showSmallEmptyCard?(Object(a["p"])(),Object(a["d"])("div",F)):Object(a["e"])("",!0)],32)):t.showLoader||t.smallCardsList.length?(Object(a["p"])(),Object(a["d"])(o,{key:2})):(Object(a["p"])(),Object(a["d"])("p",B," Упс, ничего не найдено... ")),Object(a["g"])("div",{class:"big-card__container",onDrop:e[4]||(e[4]=function(e){return t.onDrop(e,"toBigCards")}),onDragenter:e[5]||(e[5]=Object(a["D"])((function(){}),["prevent"])),onDragover:e[6]||(e[6]=Object(a["D"])((function(){}),["prevent"]))},[t.showLoader||t.showBigEmptyCard||t.filteredBigCards.length?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])("div",{key:0,class:"cards__help",innerHTML:t.textOfHelp},null,8,["innerHTML"])),(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(t.filteredBigCards,(function(e){return Object(a["p"])(),Object(a["d"])("div",{key:e.city},[Object(a["g"])("div",{class:"big-card",onDragstart:function(r){return t.onDragStart(r,e,"toSmallCards")},draggable:"true"},[Object(a["g"])("div",P,[N,Object(a["g"])("span",H,Object(a["y"])(e.city),1)]),Object(a["g"])("div",U,[Object(a["g"])("div",q,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(t.weatherConditions,(function(t){return Object(a["p"])(),Object(a["d"])("div",{key:t.value,class:"big-card__weather-conditions"},[e.weather[t["value"]]?(Object(a["p"])(),Object(a["d"])("span",{key:0,class:["icon","icon--".concat(t["value"])]},null,2)):Object(a["e"])("",!0)])})),128)),Object(a["g"])("div",J,[z,Object(a["g"])("span",G,Object(a["y"])(t.windDirect(e.wind.direct))+" "+Object(a["y"])(t.windSpeed(e.wind.speed)),1)])]),Object(a["g"])("span",W,Object(a["y"])(t.valueOfTemperature(e.temperature)),1)])],40,["onDragstart"])])})),128)),t.showBigEmptyCard?(Object(a["p"])(),Object(a["d"])("div",V)):Object(a["e"])("",!0)],32)])})),K=(r("2af1"),Object(a["E"])("data-v-062b9fa7"));Object(a["s"])("data-v-062b9fa7");var Q={class:"loader"},X=Object(a["g"])("svg",{height:"100",width:"100",viewBox:"0 0 100 100"},[Object(a["g"])("circle",{class:"loader--svg bg",cx:"50",cy:"50",r:"45"}),Object(a["g"])("circle",{class:"loader--svg animate",cx:"50",cy:"50",r:"45"})],-1),Y=Object(a["g"])("p",{class:"loader--text"},"Загрузка ...",-1);Object(a["q"])();var Z=K((function(t,e){return Object(a["p"])(),Object(a["d"])("div",Q,[X,Y])}));r("ce2d");const tt={};tt.render=Z,tt.__scopeId="data-v-062b9fa7";var et=tt,rt=Object(a["h"])({name:"Cards",components:{Spinner:et},mixins:[D],setup:function(){var t=Object(d["b"])(),e=D.methods,r=e.alphaCitySort,n=e.alphaRevCitySort;t.dispatch("fetchCities");var c=Object(a["u"])(!1),i=Object(a["u"])(!1),o=Object(a["b"])((function(){return t.getters.smallCardsList})),s=Object(a["b"])((function(){return t.getters.bigCardsList})),u=Object(a["b"])((function(){return t.getters.fullListOfCities})),l=Object(a["b"])((function(){return t.getters.filters})),b=Object(a["b"])((function(){return t.getters.showLoader})),p=Object(a["b"])((function(){return l.value.length?s.value.filter((function(t){return l.value.every((function(e){return t.weather[e]}))})):s.value})),f=Object(a["b"])((function(){return"alpha"===t.getters.sortDirect})),O=Object(a["b"])((function(){return"<p> ".concat(l.value.length?"Увы, нет подходящих городов":"Перетащите сюда города, <br />погода в которых вам интересна","</p>")})),j=function(t,e,r){t.dataTransfer&&(t.dataTransfer.setData("droppedCity",JSON.stringify(e)),"toBigCards"===r?i.value=!0:c.value=!0)},v=function(e,a){if(e.dataTransfer){var l=JSON.parse(e.dataTransfer.getData("droppedCity"));i.value=c.value=!1,"toBigCards"===a?(s.value.some((function(t){return t.city===l.city}))||t.commit("SET_BIG_CARDS_LIST",[].concat(Object(T["a"])(s.value),[l])),t.commit("SET_SMALL_CARDS_LIST",f.value?r(o.value.filter((function(t){return t.city!==l.city}))):n(o.value.filter((function(t){return t.city!==l.city})))),t.commit("SET_FULL_LIST_OF_CITIES",u.value.filter((function(t){return s.value.some((function(e){return t.city!==e.city}))})))):(t.commit("SET_BIG_CARDS_LIST",s.value.filter((function(t){return t.city!==l.city}))),o.value.some((function(t){return t.city===l.city}))||(t.commit("SET_SMALL_CARDS_LIST",f.value?r([].concat(Object(T["a"])(o.value),[l])):n([].concat(Object(T["a"])(o.value),[l]))),t.commit("SET_FULL_LIST_OF_CITIES",f.value?r([].concat(Object(T["a"])(u.value),[l])):n([].concat(Object(T["a"])(u.value),[l])))))}},g=function(t){return(1!==Math.sign(t)?t:"+".concat(t))+"°C"},h=function(t){return t?t+",":""},m=function(t){return t?t+" м/с":""};return{smallCardsList:o,filteredBigCards:p,showSmallEmptyCard:c,showBigEmptyCard:i,textOfHelp:O,showLoader:b,onDragStart:j,onDrop:v,valueOfTemperature:g,windDirect:h,windSpeed:m}}});r("d377");rt.render=$,rt.__scopeId="data-v-6f2a8ef8";var at=rt,nt={id:"map"};function ct(t,e,r,n,c,i){return Object(a["p"])(),Object(a["d"])("div",nt)}r("159b"),r("d81d");var it={name:"Map",created:function(){ymaps.ready(this.initMap)},setup:function(){var t=Object(d["b"])(),e=Object(a["u"])([55.670559,37.609218]),r=Object(a["b"])((function(){return t.getters.bigCardsList})),n=Object(a["b"])((function(){return t.getters.bigCardsList.length}));return{initCoordinate:e,bigCardsList:r,bigCardsListLength:n}},watch:{bigCardsListLength:function(t){var e=this;t?this.bigCardsList.forEach((function(t){e.addNewPlacemark([t.coordinates.latitude,t.coordinates.longitude],t.city),e.map.panTo([t.coordinates.latitude,t.coordinates.longitude])})):this.map.panTo(this.initCoordinate)}},methods:{initMap:function(){this.map=new ymaps.Map("map",{center:this.initCoordinate,zoom:10,controls:[]})},addNewPlacemark:function(t,e){this.map.geoObjects.add(new ymaps.Placemark(t,{hintContent:e}))}}};it.render=ct;var ot=it,st={components:{Header:I,Cards:at,Map:ot}};st.render=O;var ut=st,lt=Object(a["E"])("data-v-350fc398");Object(a["s"])("data-v-350fc398");var dt={class:"notFoundPage"},bt=Object(a["g"])("div",{class:"text"},[Object(a["g"])("b",null,"404 |"),Object(a["f"])(" страница не найдена")],-1);Object(a["q"])();var pt=lt((function(t,e){return Object(a["p"])(),Object(a["d"])("div",dt,[bt,Object(a["g"])("a",{class:"button",onClick:e[1]||(e[1]=function(e){return t.$router.push({name:"container"})})},"Вернуться на главную страницу")])}));r("ac42");const ft={};ft.render=pt,ft.__scopeId="data-v-350fc398";var Ot=ft,jt=[{path:"/",name:"container",component:ut},{path:"/:pathMatch(.*)*",component:Ot}],vt=Object(p["a"])({routes:jt,history:Object(p["b"])("/WeatherForecastApp/")}),gt=vt;Object(a["c"])(o).use(b).use(gt).mount("#app")},ce2d:function(t,e,r){"use strict";r("157c")},d377:function(t,e,r){"use strict";r("a1c3")}});
//# sourceMappingURL=app.b22f163e.js.map